<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Consulta RUC SUNAT</title>
</head>
<body>
    <h1>Consulta RUC SUNAT</h1>
    <label for="ruc">Ingrese el RUC:</label>
    <input type="text" id="ruc" maxlength="11">
    <button onclick="consultarRUC()">Consultar</button>

    <div id="resultado" style="margin-top:20px;"></div>

    <script>
        async function consultarRUC() {
            const ruc = document.getElementById('ruc').value;
            const apiKey = '4cf33d6e09fceec72b27cb3368cd7e17'; // ← Pega tu API Key aquí

            if (!ruc || ruc.length !== 11) {
                alert('Ingrese un RUC válido de 11 dígitos.');
                return;
            }

            const url = `https://api.peruapi.com/v1/ruc/${ruc}?token=${apiKey}`;

            try {
                const response = await fetch(url);
                if (!response.ok) throw new Error('Error en la solicitud');

                const data = await response.json();

                if (data.error) {
                    document.getElementById('resultado').innerHTML = `<p style="color:red">Error: ${data.error}</p>`;
                } else {
                    document.getElementById('resultado').innerHTML = `
                        <p><strong>RUC:</strong> ${data.ruc}</p>
                        <p><strong>Razón Social:</strong> ${data.razon_social}</p>
                        <p><strong>Estado:</strong> ${data.estado}</p>
                        <p><strong>Condición:</strong> ${data.condicion}</p>
                        <p><strong>Dirección:</strong> ${data.direccion}</p>
                    `;
                }
            } catch (error) {
                document.getElementById('resultado').innerHTML = `<p style="color:red">Error: ${error.message}</p>`;
            }
        }
    </script>
</body>
</html>
